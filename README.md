<p align="center">
  <strong>
    English
    &nbsp;|&nbsp;
    <a href="./README.pt-BR.md">Portugu√™s</a>
  </strong>
</p>

# Hybrid ACO-GA for Multi-Map Path Planning

This repository contains a full implementation of a **hybrid Ant Colony Optimization (ACO) and Genetic Algorithm (GA)** approach for **path planning of autonomous rescue robots** in uncertain environments, based on **multiple possible maps**.

The project is inspired by a recent academic paper and includes a **custom technical modification** to improve convergence speed and solution quality.

---

## üìö Article Reference

This implementation is based on the following article:

**Zhang, J., Xu, Z., Liu, H., Zhu, X., & Lan, B. (2025)**  
*An Improved Hybrid Ant Colony Optimization and Genetic Algorithm for Multi-Map Path Planning of Rescuing Robots in Mine Disaster Scenario*  
**Machines (MDPI), Volume 13, Issue 6**  

üîó **Article link:**  
https://www.mdpi.com/2075-1702/13/6/474  
üîó **DOI:** https://doi.org/10.3390/machines13060474

---

## üß† Problem Overview

In mine disaster scenarios, robots must operate in environments with:
- High uncertainty
- Incomplete or outdated maps
- Dynamic and unpredictable obstacles

Planning a path using a single deterministic map often leads to failure in real environments.  
To address this, the proposed solution evaluates paths across **multiple possible maps**, each representing a potential scenario of the environment.

---

## üß© Solution Overview

The algorithm combines two bio-inspired techniques:

### Ant Colony Optimization (ACO)
- Global exploration of the search space
- Generation of feasible and diverse initial paths
- Robust performance in complex environments

### Genetic Algorithm (GA)
- Local optimization and refinement
- Fitness-based selection, crossover, and mutation
- Optimization considering multiple maps simultaneously

The ACO phase generates high-quality initial solutions, which are then refined by the GA phase.

<p align="center">
  <img src="./images/maps_generated.png" width="700" alt="Generated scenario maps">
</p>

<p align="center">
  <em>Example of multiple grid maps generated to simulate different possible environmental scenarios.</em>
</p>

---

## ‚öôÔ∏è Implementation Environment

- **Language:** GNU Octave (.m files)
- **Paradigm:** Modular, function-oriented
- **Map model:** Grid-based (2D)

---

## üóÇÔ∏è Project Structure

### `run_hybrid.m`
Main execution script.

Responsibilities:
- Define ACO and GA parameters
- Generate test maps
- Select the reference map
- Execute ACO and GA phases
- Plot the final path
- Export results (`.mat` files)

---

### `generate_example_maps.m`
Generates multiple 50√ó50 grid maps with different obstacle densities.

Cell encoding:
- `0` ‚Üí Obstacle  
- `1` ‚Üí Free space  
- `2` ‚Üí Start point  
- `3` ‚Üí Goal point  

Simulates different possible disaster scenarios.

---

### `select_reference_map.m`
Selects the most complex map (highest obstacle count) as the reference map, ensuring robust path planning.

---

### `find_map_start_goal.m`
Automatically locates the start and goal positions in a map and validates map consistency.

---

### `get_free_neighbors.m`
Returns valid neighboring cells (8-connected grid), respecting:
- Map boundaries
- Obstacle avoidance

Used in both ACO and GA phases.

---

## üêú Ant Colony Optimization Phase

### `ACO_generate_paths.m`
Generates the initial population of paths using an improved ACO strategy.

Key features:
- Pheromone initialization based on Euclidean distance to the goal
- Probabilistic path construction using roulette-wheel selection
- Global pheromone update with safety penalty
- Discarding of dead-end paths
- Ensures a minimum viable population

Auxiliary functions:
- `aco_single_walk`
- `roulette_select`
- `path_total_length`
- `compute_sigma`

---

## üß¨ Genetic Algorithm Phase

### `GA_optimize.m`
Optimizes the paths generated by ACO.

Includes:
- Fitness evaluation across multiple maps
- Roulette-wheel selection
- Path crossover
- Pheromone-guided mutation
- Global best solution tracking

Auxiliary functions:
- `evaluate_multimap`
- `path_smoothness`
- `path_crossover`
- `path_mutation`

---

## üöß Obstacle Avoidance Strategy

### `Avoid_rectangular.m`
Implements a rectangular-region-based obstacle avoidance strategy.

Workflow:
1. Detects path segments crossing obstacles
2. Expands a rectangular region around the obstacle
3. Applies BFS to find a valid detour
4. Replaces invalid path segments
5. Repeats until a feasible path is found

This strategy significantly reduces computational cost compared to full re-planning.

---

## üé® Visualization

### `draw_map_with_path.m`
Visualizes the map and final path.

Color scheme:
- Black ‚Üí Obstacles
- White ‚Üí Free space
- Blue ‚Üí Start
- Red ‚Üí Final path

Provides intuitive validation of results.

<p align="center">
  <img src="./images/final_path.png" width="700" alt="Final path planned by the hybrid algorithm">
</p>

<p align="center">
  <em>
    Optimized final path generated by the ACO-GA hybrid algorithm,
    considering multiple maps and environmental uncertainties.
  </em>
</p>

---

## üî¨ Technical Modification (Original Contribution)

### Adaptive Pheromone Heuristic

A custom modification was implemented in: `ACO_generate_paths.m`

#### Description
Instead of using fixed values for pheromone influence (Œ±) and heuristic distance influence (Œ≤), these parameters are **adaptively adjusted over iterations**.

#### Strategy
- Early iterations:
  - Higher influence of distance heuristic
  - Increased exploration
- Later iterations:
  - Higher pheromone influence
  - Stronger exploitation of optimal paths

#### Observed Effects
- Faster convergence
- More stable and consistent paths
- Reduced number of iterations
- Improved execution time

This improvement is **not explicitly described in the original article** and was added as an experimental enhancement.

---

## üî¢ Parameters Used

- Population size: 80
- Number of ants: 80
- ACO iterations: 90
- GA iterations: 60
- Crossover probability: 0.2
- Mutation probability: 0.05
- ACO parameters:
  - Œ± = 2
  - Œ≤ = 8
  - œÅ = 0.25

---

## üìà Results

The hybrid ACO-GA approach with adaptive pheromone heuristic demonstrated:
- Improved robustness in uncertain environments
- Better path smoothness and feasibility
- Lower computational cost compared to standalone methods
